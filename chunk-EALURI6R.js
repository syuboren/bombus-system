import{a as z}from"./chunk-FUTJNZ6L.js";import{a as N}from"./chunk-G4YOIVSV.js";import{e as B,g as I}from"./chunk-LGLVK7UV.js";import{f as J,g as L,h as R}from"./chunk-ZIMZI5JP.js";import"./chunk-7N3B4XRD.js";import{a as T}from"./chunk-AH5URRTB.js";import{Ba as c,Ga as M,Ia as u,Ja as O,Ma as C,Na as S,Pa as k,Qa as _,Ra as v,S as g,Sa as n,Ta as i,U as w,Ua as m,Va as F,Wa as p,Xa as h,aa as E,ab as a,ba as P,bb as b,cb as f,db as y,gb as A,ib as D,va as r,yb as j}from"./chunk-NWESFMQJ.js";import"./chunk-JKOY2XUY.js";var Y=(l,t)=>t.id,$=l=>["\u62DB\u52DF\u8077\u7F3A\u7BA1\u7406",l];function q(l,t){if(l&1&&(n(0,"div",6),m(1,"app-stat-card",25)(2,"app-stat-card",26)(3,"app-stat-card",27)(4,"app-stat-card",28),i()),l&2){let e=t;r(),u("value",e.total),r(),u("value",e.pending),r(),u("value",e.aiRecommended),r(),u("value",e.scheduled)}}function V(l,t){if(l&1&&(n(0,"span",42),a(1),i()),l&2){let e=t.$implicit;r(),b(e)}}function H(l,t){if(l&1){let e=F();n(0,"article",23)(1,"div",29)(2,"div",30)(3,"div",31),a(4),i(),n(5,"div",32)(6,"h3",33),a(7),i(),n(8,"p",34),a(9),i(),n(10,"p",35),a(11),i()()(),n(12,"div",36),a(13),i()(),n(14,"div",37)(15,"div",38),m(16,"i",39),n(17,"span"),a(18),i()(),n(19,"div",38),m(20,"i",40),n(21,"span"),a(22),i()(),n(23,"div",41),_(24,V,2,1,"span",42,k),i()(),n(26,"div",43)(27,"span"),a(28),i(),n(29,"button",44),p("click",function(){let s=E(e).$implicit,d=h();return P(d.viewProfile(s))}),a(30," \u89E3\u6790\u5C65\u6B77 "),m(31,"i",45),i()()()}if(l&2){let e=t.$implicit,o=h();r(3),O("background-color",e.avatarColor),r(),f(" ",o.getInitial(e.name)," "),r(3),y("",e.name," (",e.nameEn,")"),r(2),b(e.email),r(2),f("\u61C9\u5FB5\u65E5\u671F\uFF1A",e.applyDate,""),r(),C("match-badge ",o.getScoreClass(e.scoreLevel),""),r(),f(" ",e.matchScore," "),r(5),b(e.education),r(4),y("",e.experienceYears,"\u5E74\u5DE5\u4F5C\u7D93\u9A57 \u2022 ",e.experience,""),r(2),v(e.skills),r(3),C("status-badge ",o.getStatusClass(e.status),""),r(),f(" ",o.getStatusLabel(e.status)," ")}}function G(l,t){l&1&&(n(0,"div",24),m(1,"i",46),n(2,"h3"),a(3,"\u76EE\u524D\u6C92\u6709\u5019\u9078\u4EBA"),i(),n(4,"p"),a(5,"\u5C1A\u7121\u7B26\u5408\u689D\u4EF6\u7684\u5019\u9078\u4EBA\u8CC7\u6599"),i()())}var Q=class l{router=g(I);route=g(B);jobService=g(N);notificationService=g(j);candidates=c([]);stats=c(null);loading=c(!1);jobId=c("");jobTitle=c("\u8CC7\u6DF1\u524D\u7AEF\u5DE5\u7A0B\u5E2B");searchQuery=c("");scoreFilter=c("");statusFilter=c("");ngOnInit(){this.route.queryParams.subscribe(t=>{t.jobId&&this.jobId.set(t.jobId)}),this.loadData()}loadData(){this.loading.set(!0),this.jobService.getCandidateStats().subscribe({next:t=>this.stats.set(t)}),this.jobService.getCandidates(this.jobId()).subscribe({next:t=>{this.candidates.set(t),this.loading.set(!1)},error:()=>{this.notificationService.error("\u8F09\u5165\u5019\u9078\u4EBA\u5217\u8868\u5931\u6557"),this.loading.set(!1)}})}filteredCandidates(){let t=this.candidates(),e=this.searchQuery().toLowerCase(),o=this.scoreFilter(),s=this.statusFilter();if(e&&(t=t.filter(d=>d.name.toLowerCase().includes(e)||d.nameEn.toLowerCase().includes(e)||d.education.toLowerCase().includes(e)||d.skills.some(x=>x.toLowerCase().includes(e)))),o){let d=parseInt(o,10);t=t.filter(x=>x.matchScore>=d)}return s&&(t=t.filter(d=>d.status===s)),t}viewProfile(t){this.router.navigate(["/employee/profile-detail"],{queryParams:{candidateId:t.id}})}goBack(){this.router.navigate(["/employee/jobs"])}getScoreClass(t){return{high:"score--high",medium:"score--medium",low:"score--low"}[t]||""}getStatusClass(t){return{new:"status--new",interview:"status--interview",rejected:"status--rejected",hired:"status--hired"}[t]||""}getStatusLabel(t){return{new:"\u65B0\u9032\u5C65\u6B77",interview:"\u9762\u8A66\u4E2D",rejected:"\u5DF2\u5A49\u62D2",hired:"\u5DF2\u9304\u7528"}[t]||t}getInitial(t){return t.charAt(0)}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=w({type:l,selectors:[["app-job-candidates-page"]],standalone:!0,features:[A],decls:45,vars:9,consts:[[3,"pageTitle","breadcrumbs"],[1,"main-content"],[1,"content-container"],[1,"page-actions"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"ri-arrow-left-line"],[1,"stats-grid"],[1,"filter-bar"],[1,"filter-item"],[1,"filter-label"],["type","text","placeholder","\u59D3\u540D / \u5B78\u6821 / \u6280\u80FD",1,"filter-input",3,"input","value"],[1,"filter-select",3,"change","value"],["value",""],["value","90"],["value","80"],["value","70"],["value","new"],["value","interview"],["value","rejected"],[1,"filter-item","filter-item--action"],["type","button",1,"btn-filter"],[1,"ri-filter-line"],[1,"candidate-grid"],[1,"candidate-card"],[1,"empty-state"],["icon","ri-group-line","label","\u7E3D\u61C9\u5FB5\u4EBA\u6578","moduleType","l1",3,"value"],["icon","ri-time-line","label","\u5F85\u5BE9\u6838","moduleType","l1",3,"value"],["icon","ri-check-double-line","label","AI \u63A8\u85A6","moduleType","l1",3,"value"],["icon","ri-calendar-event-line","label","\u5DF2\u5B89\u6392\u9762\u8A66","moduleType","l1",3,"value"],[1,"card__header"],[1,"candidate-info"],[1,"candidate-avatar"],[1,"candidate-details"],[1,"candidate-name"],[1,"candidate-email"],[1,"candidate-date"],["title","AI \u5339\u914D\u5EA6"],[1,"card__body"],[1,"info-row"],[1,"ri-graduation-cap-line"],[1,"ri-briefcase-line"],[1,"skill-tags"],[1,"skill-tag"],[1,"card__footer"],["type","button",1,"btn-action",3,"click"],[1,"ri-arrow-right-line"],[1,"ri-user-search-line"]],template:function(e,o){if(e&1&&(m(0,"app-header",0),n(1,"main",1)(2,"div",2)(3,"div",3)(4,"button",4),p("click",function(){return o.goBack()}),m(5,"i",5),a(6," \u8FD4\u56DE\u8077\u7F3A\u5217\u8868 "),i()(),M(7,q,5,4,"div",6),n(8,"div",7)(9,"div",8)(10,"label",9),a(11,"\u95DC\u9375\u5B57\u641C\u5C0B"),i(),n(12,"input",10),p("input",function(d){return o.searchQuery.set(d.target.value)}),i()(),n(13,"div",8)(14,"label",9),a(15,"AI \u5339\u914D\u5EA6"),i(),n(16,"select",11),p("change",function(d){return o.scoreFilter.set(d.target.value)}),n(17,"option",12),a(18,"\u6240\u6709\u5206\u6578"),i(),n(19,"option",13),a(20,"90\u5206\u4EE5\u4E0A"),i(),n(21,"option",14),a(22,"80\u5206\u4EE5\u4E0A"),i(),n(23,"option",15),a(24,"70\u5206\u4EE5\u4E0A"),i()()(),n(25,"div",8)(26,"label",9),a(27,"\u61C9\u5FB5\u72C0\u614B"),i(),n(28,"select",11),p("change",function(d){return o.statusFilter.set(d.target.value)}),n(29,"option",12),a(30,"\u6240\u6709\u72C0\u614B"),i(),n(31,"option",16),a(32,"\u65B0\u9032\u5C65\u6B77"),i(),n(33,"option",17),a(34,"\u9762\u8A66\u4E2D"),i(),n(35,"option",18),a(36,"\u5DF2\u5A49\u62D2"),i()()(),n(37,"div",19)(38,"button",20),m(39,"i",21),a(40," \u7BE9\u9078 "),i()()(),n(41,"div",22),_(42,H,32,18,"article",23,Y,!1,G,6,0,"div",24),i()()()),e&2){let s;u("pageTitle","\u8077\u7F3A\u5019\u9078\u4EBA\u5217\u8868")("breadcrumbs",D(7,$,o.jobTitle())),r(7),S((s=o.stats())?7:-1,s),r(5),u("value",o.searchQuery()),r(4),u("value",o.scoreFilter()),r(12),u("value",o.statusFilter()),r(14),v(o.filteredCandidates())}},dependencies:[R,J,L,T,z],styles:["[_ngcontent-%COMP%]:root{--color-cloud-gray: #F5F5F7;--color-pure-white: #FCFCFD;--color-soft-gray: #E8E8EA;--color-text-primary: #464E56;--color-text-secondary: #6B7280;--color-text-dark: #1F2937;--color-brand-main: #64748B;--color-brand-light: #94A3B8;--color-brand-dark: #475569;--color-l1-sage: #8DA399;--color-l2-terracotta: #D6A28C;--color-l3-petrol: #7F9CA0;--color-l4-mauve: #9A8C98;--color-l5-brick: #B87D7B;--color-l6-rose: #C4A4A1;--color-success: #7FB095;--color-warning: #E3C088;--color-error: #C77F7F;--color-info: #8DA8BE;--sidebar-width: 280px;--sidebar-width-minimized: 80px;--header-height: 70px;--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--shadow-soft: 0 4px 20px rgba(0, 0, 0, .05);--shadow-md: 0 4px 12px rgba(0, 0, 0, .06);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .08);--transition-normal: .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.page-actions[_ngcontent-%COMP%]{margin-bottom:1.5rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}@media (max-width: 1199px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 767px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filter-bar[_ngcontent-%COMP%]{background:#fcfcfd;border-radius:12px;box-shadow:0 4px 20px #0000000d;transition:box-shadow .3s ease,transform .3s ease;display:flex;flex-wrap:wrap;gap:1rem;padding:1.5rem;margin-bottom:1.5rem}.filter-item[_ngcontent-%COMP%]{flex:1;min-width:200px}.filter-item--action[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:flex-end}.filter-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#464e56;margin-bottom:.25rem}.filter-input[_ngcontent-%COMP%], .filter-select[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem;border:1px solid #E8E8EA;border-radius:8px;font-size:.875rem;color:#464e56;background:#fcfcfd;transition:border-color .3s ease,box-shadow .3s ease}.filter-input[_ngcontent-%COMP%]::placeholder, .filter-select[_ngcontent-%COMP%]::placeholder{color:#c4c4c6}.filter-input[_ngcontent-%COMP%]:focus, .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#64748b;box-shadow:0 0 0 3px #64748b1a}.btn-filter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.25rem;width:100%;padding:.5rem 1rem;background:#f5f5f7;border:1px solid transparent;border-radius:8px;font-size:.875rem;font-weight:600;color:#6b7280;cursor:pointer;transition:all .3s ease}.btn-filter[_ngcontent-%COMP%]:hover{background:#ededf0;color:#1f2937}.candidate-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.candidate-card[_ngcontent-%COMP%]{background:#fcfcfd;border-radius:12px;box-shadow:0 4px 20px #0000000d;transition:box-shadow .3s ease,transform .3s ease;display:flex;flex-direction:column;overflow:hidden;transition:all .3s ease}.candidate-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000014;border-color:#8da399}.card__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid #E8E8EA}.candidate-info[_ngcontent-%COMP%]{display:flex;gap:.5rem}.candidate-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:50%;background:#8da399;color:#fff;font-size:1.125rem;font-weight:700;flex-shrink:0}.candidate-details[_ngcontent-%COMP%]{min-width:0}.candidate-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#1f2937;margin:0 0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.candidate-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:0 0 2px}.candidate-date[_ngcontent-%COMP%]{font-size:.75rem;color:#c4c4c6;margin:0}.match-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:50%;font-size:.875rem;font-weight:700;border:3px solid;flex-shrink:0}.score--high[_ngcontent-%COMP%]{border-color:#7fb095;color:#7fb095;background:#7fb0951a}.score--medium[_ngcontent-%COMP%]{border-color:#d9aa5f;color:#d49f4a;background:#e3c0881a}.score--low[_ngcontent-%COMP%]{border-color:#c77f7f;color:#c77f7f;background:#c77f7f1a}.card__body[_ngcontent-%COMP%]{padding:1.5rem;flex:1}.info-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:.5rem;font-size:.875rem;color:#6b7280;margin-bottom:.5rem}.info-row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8da399;font-size:16px;flex-shrink:0}.info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.skill-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;margin-top:1rem}.skill-tag[_ngcontent-%COMP%]{padding:4px 10px;background:#f5f5f7;border-radius:8px;font-size:.75rem;color:#464e56}.card__footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem 1.5rem;background:#f5f5f7;border-top:1px solid #E8E8EA}.status-badge[_ngcontent-%COMP%]{display:inline-block;align-self:flex-start;padding:4px 12px;border-radius:9999px;font-size:.75rem;font-weight:600}.status--new[_ngcontent-%COMP%]{background:#7fb09526;color:#7fb095}.status--interview[_ngcontent-%COMP%]{background:#e3c08826;color:#d49f4a}.status--rejected[_ngcontent-%COMP%]{background:#6b728026;color:#6b7280}.status--hired[_ngcontent-%COMP%]{background:#8da39926;color:#8da399}.btn-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.25rem;width:100%;padding:.5rem;background:#fff;border:1px solid #8DA399;border-radius:8px;font-size:.875rem;font-weight:600;color:#8da399;cursor:pointer;transition:all .3s ease}.btn-action[_ngcontent-%COMP%]:hover{background:#8da399;color:#fff}.empty-state[_ngcontent-%COMP%]{grid-column:1/-1;background:#fcfcfd;border-radius:12px;box-shadow:0 4px 20px #0000000d;transition:box-shadow .3s ease,transform .3s ease;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:3rem;text-align:center}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#c4c4c6;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;color:#1f2937;margin:0 0 .25rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0}"],changeDetection:0})};export{Q as JobCandidatesPageComponent};
