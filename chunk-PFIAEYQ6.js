import{a as J}from"./chunk-PABKVVOZ.js";import{a as Z}from"./chunk-PZOMZZZC.js";import{i as q,j as K,l as U}from"./chunk-6NWKX4EL.js";import{a as G}from"./chunk-ZVKGYAYE.js";import"./chunk-TKFFVAKG.js";import{$ as g,F as L,G as l,L as h,N as P,P as x,Q as R,R as $,U as D,X as y,Y as M,Z as n,_ as a,aa as S,ba as m,ca as C,fa as j,ga as W,ha as N,ia as o,ja as v,ka as w,la as z,n as A,o as O,sa as F,t as d,ta as Q,u,za as Y}from"./chunk-Y7UTIMVI.js";import{a as I,b as V}from"./chunk-GAL4ENT6.js";var ne=["heatmapChart"],B=(r,t)=>t.value,ie=(r,t)=>t.name;function ae(r,t){if(r&1&&(n(0,"option",10),o(1),a()),r&2){let e=t.$implicit;x("value",e.value),l(),v(e.label)}}function oe(r,t){if(r&1&&(n(0,"option",10),o(1),a()),r&2){let e=t.$implicit;x("value",e.value),l(),v(e.label)}}function re(r,t){if(r&1&&(n(0,"option",10),o(1),a()),r&2){let e=t.$implicit;x("value",e.value),l(),v(e.label)}}function le(r,t){r&1&&(n(0,"div",22),g(1,"i",27),n(2,"span"),o(3,"\u8F09\u5165\u4E2D..."),a()())}function pe(r,t){if(r&1&&(n(0,"li",41)(1,"span",47),o(2,"\u{1F4DA}"),a(),n(3,"span",48),o(4),a(),n(5,"span",49),o(6),a()()),r&2){let e=t.$implicit;l(4),v(e.name),l(2),w("(\u9810\u4F30\u63D0\u5347 +",e.improvement," \u5206)")}}function se(r,t){if(r&1){let e=S();n(0,"h3",31),o(1),a(),n(2,"p",32),o(3),a(),n(4,"div",33)(5,"div",34)(6,"span",35),o(7,"\u7576\u524D\u5206\u6578"),a(),n(8,"span",36),o(9),a()(),n(10,"div",34)(11,"span",35),o(12,"\u8981\u6C42\u5206\u6578"),a(),n(13,"span",37),o(14),a()(),n(15,"div",34)(16,"span",35),o(17,"\u843D\u5DEE"),a(),n(18,"span",36),o(19),a()(),n(20,"div",34)(21,"span",35),o(22,"\u90E8\u9580\u6392\u540D"),a(),n(23,"span",36),o(24),a()()(),n(25,"div",38)(26,"h4",39)(27,"span"),o(28,"\u{1F4A1}"),a(),o(29," AI \u63A8\u85A6\u8AB2\u7A0B "),a(),n(30,"ul",40),y(31,pe,7,2,"li",41,ie),a()(),n(33,"div",42)(34,"button",43),m("click",function(){d(e);let p=C(2);return u(p.viewHistory())}),g(35,"i",44),o(36," \u67E5\u770B\u6B77\u53F2\u7D00\u9304 "),a(),n(37,"button",45),m("click",function(){d(e);let p=C(2);return u(p.assignTraining())}),g(38,"i",46),o(39," \u6307\u6D3E\u57F9\u8A13\u8AB2\u7A0B "),a()()}if(r&2){let e=t;l(),z("",e.competency," - ",e.department,""),l(2),w("\u8077\u80FD\u72C0\u614B\uFF1A",e.level.label,""),l(5),R("color",e.level.color),l(),w(" ",e.score," \u5206 "),l(5),w(" ",e.requiredScore," \u5206 "),l(4),$("positive",e.gap>=0)("negative",e.gap<0),l(),z(" ",e.gap>=0?"+":"","",e.gap," \u5206 "),l(5),v(e.rank),l(7),M(e.courses)}}function me(r,t){if(r&1){let e=S();n(0,"div",28),m("click",function(){d(e);let p=C();return u(p.closeDetailModal())}),n(1,"div",29),m("click",function(p){return d(e),u(p.stopPropagation())}),n(2,"button",30),m("click",function(){d(e);let p=C();return u(p.closeDetailModal())}),o(3,"\xD7"),a(),P(4,se,40,14),a()()}if(r&2){let e,i=C();l(4),D((e=i.selectedDetail())?4:-1,e)}}var T=class r{heatmapChartRef;talentMapService=A(J);cdr=A(Y);heatmapChart=null;resizeHandler=()=>this.heatmapChart?.resize();viewReady=!1;courseDatabase={\u6E9D\u901A\u5354\u8ABF:[{name:"\u9AD8\u6548\u6E9D\u901A\u6280\u5DE7\u5BE6\u6230\u73ED",improvement:8},{name:"\u8DE8\u90E8\u9580\u5354\u4F5C\u5DE5\u4F5C\u574A",improvement:6},{name:"\u885D\u7A81\u7BA1\u7406\u8207\u8AC7\u5224\u6280\u5DE7",improvement:7}],\u5718\u968A\u5408\u4F5C:[{name:"\u5718\u968A\u5EFA\u8A2D\u8207\u5354\u4F5C\u5DE5\u4F5C\u574A",improvement:9},{name:"\u8DE8\u8077\u80FD\u5718\u968A\u5408\u4F5C\u6280\u5DE7",improvement:7},{name:"\u865B\u64EC\u5718\u968A\u7BA1\u7406\u5BE6\u52D9",improvement:8}],\u554F\u984C\u89E3\u6C7A:[{name:"\u908F\u8F2F\u601D\u7DAD\u8207\u554F\u984C\u5206\u6790",improvement:10},{name:"\u7CFB\u7D71\u601D\u8003\u65B9\u6CD5\u8AD6",improvement:8},{name:"\u5275\u610F\u554F\u984C\u89E3\u6C7A\u5DE5\u4F5C\u574A",improvement:9}],\u5275\u65B0\u601D\u7DAD:[{name:"\u8A2D\u8A08\u601D\u8003\u5BE6\u52D9\u8AB2\u7A0B",improvement:11},{name:"\u5275\u65B0\u7BA1\u7406\u8207\u8B8A\u9769\u9818\u5C0E",improvement:9},{name:"TRIZ \u5275\u65B0\u65B9\u6CD5\u8AD6",improvement:10}],\u5B78\u7FD2\u80FD\u529B:[{name:"\u9AD8\u6548\u5B78\u7FD2\u65B9\u6CD5\u8AD6",improvement:8},{name:"\u77E5\u8B58\u7BA1\u7406\u8207\u61C9\u7528",improvement:7},{name:"\u81EA\u4E3B\u5B78\u7FD2\u80FD\u529B\u57F9\u990A",improvement:9}],\u5C08\u696D\u6280\u8853:[{name:"Python \u9032\u968E\u958B\u767C\u8AB2\u7A0B",improvement:12},{name:"\u7CFB\u7D71\u67B6\u69CB\u8A2D\u8A08\u5BE6\u52D9",improvement:10},{name:"\u654F\u6377\u958B\u767C\u65B9\u6CD5\u8AD6",improvement:8}],\u6578\u64DA\u5206\u6790:[{name:"Excel \u9032\u968E\u5206\u6790\u6280\u5DE7",improvement:7},{name:"Power BI \u6578\u64DA\u8996\u89BA\u5316",improvement:9},{name:"SQL \u8CC7\u6599\u5EAB\u67E5\u8A62\u512A\u5316",improvement:8}],\u5C08\u6848\u7BA1\u7406:[{name:"PMP \u5C08\u6848\u7BA1\u7406\u8A8D\u8B49\u8AB2\u7A0B",improvement:12},{name:"\u654F\u6377\u5C08\u6848\u7BA1\u7406\u5BE6\u52D9",improvement:10},{name:"\u5C08\u6848\u98A8\u96AA\u7BA1\u7406\u5DE5\u4F5C\u574A",improvement:8}],\u6D41\u7A0B\u512A\u5316:[{name:"\u7CBE\u5BE6\u7BA1\u7406\u5BE6\u52D9\u8AB2\u7A0B",improvement:9},{name:"\u6D41\u7A0B\u6539\u5584\u65B9\u6CD5\u8AD6",improvement:8},{name:"\u81EA\u52D5\u5316\u6D41\u7A0B\u8A2D\u8A08",improvement:10}],\u54C1\u8CEA\u7BA1\u7406:[{name:"\u516D\u6A19\u6E96\u5DEE\u7DA0\u5E36\u8A8D\u8B49",improvement:11},{name:"\u54C1\u8CEA\u7BA1\u7406\u7CFB\u7D71\u5BE6\u52D9",improvement:9},{name:"SPC \u7D71\u8A08\u88FD\u7A0B\u7BA1\u5236",improvement:8}],\u9818\u5C0E\u7D71\u5FA1:[{name:"\u4E2D\u968E\u4E3B\u7BA1\u9818\u5C0E\u529B\u57F9\u8A13",improvement:10},{name:"\u5718\u968A\u6FC0\u52F5\u8207\u8F14\u5C0E\u6280\u5DE7",improvement:8},{name:"\u8B8A\u9769\u7BA1\u7406\u5BE6\u52D9\u5DE5\u4F5C\u574A",improvement:9}],\u6C7A\u7B56\u80FD\u529B:[{name:"\u7B56\u7565\u601D\u7DAD\u8207\u6C7A\u7B56\u5206\u6790",improvement:10},{name:"\u98A8\u96AA\u8A55\u4F30\u8207\u6C7A\u7B56\u6A21\u578B",improvement:9},{name:"\u6578\u64DA\u9A45\u52D5\u6C7A\u7B56\u5BE6\u52D9",improvement:11}],\u76EE\u6A19\u7BA1\u7406:[{name:"OKR \u76EE\u6A19\u7BA1\u7406\u5BE6\u6230\u73ED",improvement:9},{name:"KPI \u8A2D\u8A08\u8207\u7E3E\u6548\u7BA1\u7406",improvement:8},{name:"\u76EE\u6A19\u9054\u6210\u8FFD\u8E64\u6280\u5DE7",improvement:7}],\u8CC7\u6E90\u914D\u7F6E:[{name:"\u8CC7\u6E90\u898F\u5283\u8207\u914D\u7F6E\u7B56\u7565",improvement:8},{name:"\u9810\u7B97\u7BA1\u7406\u8207\u6210\u672C\u63A7\u5236",improvement:9},{name:"\u4EBA\u529B\u8CC7\u6E90\u6700\u4F73\u5316",improvement:10}],\u7E3E\u6548\u7BA1\u7406:[{name:"\u7E3E\u6548\u8A55\u4F30\u8207\u56DE\u994B\u6280\u5DE7",improvement:9},{name:"\u7E3E\u6548\u6539\u5584\u8A08\u756B\u8A2D\u8A08",improvement:8},{name:"\u6301\u7E8C\u7E3E\u6548\u7BA1\u7406\u5BE6\u52D9",improvement:10}]};departmentOptions=this.talentMapService.departmentOptions;competencyTypeOptions=this.talentMapService.competencyTypeOptions;viewLevelOptions=this.talentMapService.viewLevelOptions;filter=h({viewLevel:"org",department:"all",competencyType:"all"});heatmapData=h([]);stats=h({avgScore:0,excellentCount:0,needTrainingCount:0});loading=h(!1);showDetailModal=h(!1);selectedDetail=h(null);onEscapeKey(){this.showDetailModal()&&this.closeDetailModal()}ngOnInit(){window.addEventListener("resize",this.resizeHandler)}ngAfterViewInit(){this.viewReady=!0,this.loadData()}ngOnDestroy(){window.removeEventListener("resize",this.resizeHandler),this.heatmapChart?.dispose()}loadData(){this.loading.set(!0),this.talentMapService.getHeatmapData(this.filter()).subscribe({next:t=>{this.heatmapData.set(t),this.stats.set(this.talentMapService.getHeatmapStats(t)),this.loading.set(!1),this.cdr.detectChanges(),this.viewReady&&t.length>0&&setTimeout(()=>this.updateChart(t),100)}})}updateFilter(t,e){this.filter.update(i=>V(I({},i),{[t]:e})),this.loadData()}exportChart(){if(this.heatmapChart){let t=this.heatmapChart.getDataURL({type:"png",pixelRatio:2}),e=document.createElement("a");e.download="heatmap-chart.png",e.href=t,e.click()}}closeDetailModal(){this.showDetailModal.set(!1),this.selectedDetail.set(null),this.cdr.detectChanges()}assignTraining(){console.log("Assigning training for:",this.selectedDetail()),this.closeDetailModal()}viewHistory(){console.log("Viewing history for:",this.selectedDetail())}getScoreLevel(t){return t>=90?{label:"\u8077\u80FD\u512A\u79C0",color:"#2d5f3e"}:t>=70?{label:"\u8077\u80FD\u9054\u6A19",color:"#7FB095"}:t>=50?{label:"\u63A5\u8FD1\u6A19\u6E96",color:"#E3C088"}:{label:"\u9700\u91CD\u9EDE\u57F9\u80B2",color:"#C77F7F"}}getRecommendedCourses(t,e){let i=this.courseDatabase[t]||[{name:`${t}\u57FA\u790E\u57F9\u8A13\u8AB2\u7A0B`,improvement:8},{name:`${t}\u9032\u968E\u5BE6\u6230\u73ED`,improvement:10},{name:`${t}\u5C08\u5BB6\u8A8D\u8B49\u8AB2\u7A0B`,improvement:12}];return e<50?i:e<70?i.slice(0,2):i.slice(0,1)}showCellDetail(t,e,i){let p=this.getScoreLevel(i),_=70,f=i-_,s=Math.floor(Math.random()*5)+1,c=this.getRecommendedCourses(t,i),b={competency:t,department:e,score:i,level:p,requiredScore:_,gap:f,rank:`\u7B2C ${s} \u540D / 8`,courses:c};this.selectedDetail.set(b),this.showDetailModal.set(!0),this.cdr.detectChanges()}updateChart(t){if(!this.heatmapChartRef?.nativeElement)return;this.heatmapChart||(this.heatmapChart=Z(this.heatmapChartRef.nativeElement));let e=[...new Set(t.map(s=>s.department))],i=[...new Set(t.map(s=>s.competency))],p=t.map(s=>[i.indexOf(s.competency),e.indexOf(s.department),s.score]),_=this,f={tooltip:{position:"top",formatter:s=>{let c=s,b=i[c.value[0]],k=e[c.value[1]],E=c.value[2],H=_.getScoreLevel(E);return`
            <div style="padding: 10px;">
              <div style="font-weight: 600; margin-bottom: 8px; font-size: 14px;">
                ${k} - ${b}
              </div>
              <div style="color: #718096; font-size: 13px;">
                \u8077\u80FD\u5206\u6578\uFF1A<strong style="color: ${H.color};">${E} \u5206</strong><br/>
                \u72C0\u614B\uFF1A<strong style="color: ${H.color};">${H.label}</strong>
              </div>
              <div style="margin-top: 8px; font-size: 12px; color: #a0aec0;">
                \u9EDE\u64CA\u67E5\u770B\u8A73\u7D30\u8CC7\u8A0A
              </div>
            </div>
          `},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#E2E4E8",borderWidth:1,extraCssText:"box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-radius: 8px;"},grid:{top:"5%",left:"5%",right:"15%",bottom:"20%",containLabel:!0},xAxis:{type:"category",data:i,splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(245,245,247,0.3)"]}},axisLabel:{rotate:45,interval:0,fontSize:12,color:"#464E56",fontWeight:500},axisLine:{lineStyle:{color:"#E2E4E8"}}},yAxis:{type:"category",data:e,splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(245,245,247,0.3)"]}},axisLabel:{fontSize:12,color:"#464E56",fontWeight:500},axisLine:{lineStyle:{color:"#E2E4E8"}}},visualMap:{min:0,max:100,calculable:!0,orient:"vertical",right:10,bottom:"center",inRange:{color:["#C77F7F","#E3C088","#7FB095","#2d5f3e"]},text:["\u9AD8\u5206","\u4F4E\u5206"],textStyle:{color:"#464E56",fontSize:12}},series:[{name:"\u8077\u80FD\u5206\u6578",type:"heatmap",data:p,label:{show:!0,fontSize:11,color:"#fff",fontWeight:"bold",formatter:s=>String(s.value[2])},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.3)",borderColor:"#fff",borderWidth:2}},itemStyle:{borderColor:"#fff",borderWidth:2,borderRadius:4}}]};this.heatmapChart.setOption(f,!0),this.heatmapChart.off("click"),this.heatmapChart.on("click",s=>{if(s.componentType==="series"&&Array.isArray(s.value)){let c=s.value,b=i[c[0]],k=e[c[1]],E=c[2];this.showCellDetail(b,k,E)}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=O({type:r,selectors:[["app-heatmap-tab"]],viewQuery:function(e,i){if(e&1&&j(ne,5),e&2){let p;W(p=N())&&(i.heatmapChartRef=p.first)}},hostBindings:function(e,i){e&1&&m("keydown.escape",function(){return i.onEscapeKey()},!1,L)},standalone:!0,features:[F],decls:50,vars:8,consts:[["heatmapChart",""],[1,"map-card"],[1,"map-card__header"],[1,"map-card__title"],[1,"ri-fire-fill"],[1,"map-card__desc"],[1,"filters"],[1,"filter-group"],["for","viewLevel"],["id","viewLevel",3,"change","value"],[3,"value"],["for","deptFilter"],["id","deptFilter",3,"change","value"],["for","competencyType"],["id","competencyType",3,"change","value"],[1,"stats-bar"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value","stat-value--primary"],[1,"stat-value","stat-value--success"],[1,"stat-value","stat-value--danger"],[1,"chart-wrapper"],[1,"chart-loading"],[1,"chart-container"],["type","button",1,"export-btn",3,"click"],[1,"ri-download-2-line"],[1,"modal-overlay"],[1,"ri-loader-4-line"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-subtitle"],[1,"score-grid"],[1,"score-item"],[1,"score-item__label"],[1,"score-item__value"],[1,"score-item__value","score-item__value--muted"],[1,"courses-section"],[1,"courses-title"],[1,"courses-list"],[1,"course-item"],[1,"modal-actions"],["type","button",1,"btn-secondary",3,"click"],[1,"ri-history-line"],["type","button",1,"btn-primary",3,"click"],[1,"ri-graduation-cap-line"],[1,"course-icon"],[1,"course-name"],[1,"course-improvement"]],template:function(e,i){if(e&1){let p=S();n(0,"div",1)(1,"header",2)(2,"h2",3),g(3,"i",4),o(4," \u7D44\u7E54\u8077\u80FD\u71B1\u529B\u5716 (Competency Heatmap) "),a(),n(5,"p",5),o(6," \u5FEB\u901F\u5B9A\u4F4D\u7D44\u7E54\u8077\u80FD\u77ED\u677F\uFF0C\u512A\u5148\u5B89\u6392\u57F9\u8A13\u8CC7\u6E90\u3002\u4F7F\u7528\u7D05\u7DA0\u71C8\u865F\u8996\u89BA\u5316\u5448\u73FE\u5404\u90E8\u9580/\u54E1\u5DE5\u7684\u8077\u80FD\u5F37\u5F31\u3002 "),a()(),n(7,"div",6)(8,"div",7)(9,"label",8),o(10,"\u8996\u5716\u5C64\u7D1A:"),a(),n(11,"select",9),m("change",function(f){return d(p),u(i.updateFilter("viewLevel",f.target.value))}),y(12,ae,2,2,"option",10,B),a()(),n(14,"div",7)(15,"label",11),o(16,"\u9078\u64C7\u90E8\u9580:"),a(),n(17,"select",12),m("change",function(f){return d(p),u(i.updateFilter("department",f.target.value))}),y(18,oe,2,2,"option",10,B),a()(),n(20,"div",7)(21,"label",13),o(22,"\u8077\u80FD\u985E\u578B:"),a(),n(23,"select",14),m("change",function(f){return d(p),u(i.updateFilter("competencyType",f.target.value))}),y(24,re,2,2,"option",10,B),a()()(),n(26,"div",15)(27,"div",16)(28,"span",17),o(29,"\u5E73\u5747\u5206\u6578"),a(),n(30,"span",18),o(31),a()(),n(32,"div",16)(33,"span",17),o(34,"\u512A\u79C0\u8077\u80FD\u6578"),a(),n(35,"span",19),o(36),a()(),n(37,"div",16)(38,"span",17),o(39,"\u9700\u57F9\u8A13\u4EBA\u6578"),a(),n(40,"span",20),o(41),a()()(),n(42,"div",21),P(43,le,4,0,"div",22),g(44,"div",23,0),a(),n(46,"button",24),m("click",function(){return d(p),u(i.exportChart())}),g(47,"i",25),o(48," \u532F\u51FA PNG "),a()(),P(49,me,5,1,"div",26)}e&2&&(l(11),x("value",i.filter().viewLevel),l(),M(i.viewLevelOptions),l(5),x("value",i.filter().department),l(),M(i.departmentOptions),l(5),x("value",i.filter().competencyType),l(),M(i.competencyTypeOptions),l(7),v(i.stats().avgScore),l(5),v(i.stats().excellentCount),l(5),v(i.stats().needTrainingCount),l(2),D(i.loading()?43:-1),l(6),D(i.showDetailModal()?49:-1))},dependencies:[U,q,K],styles:[".map-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #E2E4E8;padding:30px;margin-bottom:20px}.map-card__header[_ngcontent-%COMP%]{margin-bottom:25px}.map-card__title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1f2937;margin-bottom:8px;display:flex;align-items:center;gap:10px}.map-card__title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#7f9ca0}.map-card__desc[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;line-height:1.6}.filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;align-items:center;margin-bottom:25px;padding:20px;background:#f5f5f7;border-radius:10px}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1f2937;white-space:nowrap}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #E2E4E8;border-radius:8px;background:#fff;color:#1f2937;font-size:14px;cursor:pointer;transition:all .3s ease;min-width:150px}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#64748b}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#64748b;box-shadow:0 0 0 3px #64748b1a}.stats-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:25px;padding:25px 20px;background:linear-gradient(135deg,#7f9ca00d,#7f9ca01a);border-radius:10px}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:0 20px}.stat-label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#6b7280;margin-bottom:8px;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-size:36px;font-weight:800;line-height:1.1;letter-spacing:-1px}.stat-value--primary[_ngcontent-%COMP%]{color:#7f9ca0}.stat-value--success[_ngcontent-%COMP%]{color:#7fb095}.stat-value--danger[_ngcontent-%COMP%]{color:#c77f7f}.chart-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.chart-container[_ngcontent-%COMP%]{width:100%;height:500px;min-height:500px;max-width:100%}.chart-loading[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:10px;color:#6b7280;z-index:10}.chart-loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.export-btn[_ngcontent-%COMP%]{margin-top:20px;padding:12px 24px;background:#64748b;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.export-btn[_ngcontent-%COMP%]:hover{background:#475569;transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}.export-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;max-width:600px;width:90%;position:relative;animation:_ngcontent-%COMP%_slideUp .3s ease;box-shadow:0 20px 60px #0000004d}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-close[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:none;border:none;font-size:28px;cursor:pointer;color:#6b7280;line-height:1;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#f5f5f7;color:#1f2937}.modal-title[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:5px;font-size:20px;font-weight:700}.modal-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;margin-bottom:20px}.score-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:25px;padding:20px;background:#f5f5f7;border-radius:10px}.score-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.score-item__label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.score-item__value[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.score-item__value--muted[_ngcontent-%COMP%]{color:#6b7280}.score-item__value.positive[_ngcontent-%COMP%]{color:#7fb095}.score-item__value.negative[_ngcontent-%COMP%]{color:#c77f7f}.courses-section[_ngcontent-%COMP%]{margin-bottom:25px}.courses-title[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:15px;font-size:16px;font-weight:600;display:flex;align-items:center;gap:8px}.courses-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}.course-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 15px;background:#fff;border:1px solid #E2E4E8;border-radius:8px;transition:all .2s ease}.course-item[_ngcontent-%COMP%]:hover{border-color:#64748b;box-shadow:0 2px 8px #00000014}.course-icon[_ngcontent-%COMP%]{font-size:16px}.course-name[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#1f2937;font-weight:500}.course-improvement[_ngcontent-%COMP%]{font-size:13px;color:#7fb095;font-weight:600}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #E2E4E8}.btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;background:#f5f5f7;color:#1f2937;border:1px solid #E2E4E8;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e7e7ec}.btn-secondary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;background:#64748b;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:6px}.btn-primary[_ngcontent-%COMP%]:hover{background:#475569}.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 768px){.map-card[_ngcontent-%COMP%]{padding:20px}.filters[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;width:100%}.stats-bar[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.chart-container[_ngcontent-%COMP%]{height:400px;min-height:400px}.modal-content[_ngcontent-%COMP%]{padding:20px}.score-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-secondary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}}"],changeDetection:0})};var ce=()=>["\u6559\u80B2\u8A13\u7DF4","\u7D44\u7E54\u8077\u80FD\u71B1\u529B\u5716"],X=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=O({type:r,selectors:[["app-competency-heatmap-page"]],standalone:!0,features:[F],decls:4,vars:2,consts:[["pageTitle","\u7D44\u7E54\u8077\u80FD\u71B1\u529B\u5716",3,"breadcrumbs"],[1,"main-content"],[1,"content-container"]],template:function(e,i){e&1&&(g(0,"app-header",0),n(1,"main",1)(2,"div",2),g(3,"app-heatmap-tab"),a()()),e&2&&x("breadcrumbs",Q(1,ce))},dependencies:[G,T],styles:["[_ngcontent-%COMP%]:root{--color-cloud-gray: #F5F5F7;--color-pure-white: #FCFCFD;--color-soft-gray: #E8E8EA;--color-text-primary: #464E56;--color-text-secondary: #6B7280;--color-text-dark: #1F2937;--color-brand-main: #64748B;--color-brand-light: #94A3B8;--color-brand-dark: #475569;--color-l1-sage: #8DA399;--color-l2-terracotta: #D6A28C;--color-l3-petrol: #7F9CA0;--color-l4-mauve: #9A8C98;--color-l5-brick: #B87D7B;--color-l6-rose: #C4A4A1;--color-success: #7FB095;--color-warning: #E3C088;--color-error: #C77F7F;--color-info: #8DA8BE;--sidebar-width: 280px;--sidebar-width-minimized: 80px;--header-height: 70px;--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--shadow-soft: 0 4px 20px rgba(0, 0, 0, .05);--shadow-md: 0 4px 12px rgba(0, 0, 0, .06);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .08);--transition-normal: .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.main-content[_ngcontent-%COMP%]{padding:1.5rem;margin-top:70px}@media (max-width: 767px){.main-content[_ngcontent-%COMP%]{padding:1rem}}.content-container[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto}"],changeDetection:0})};export{X as CompetencyHeatmapPageComponent};
