<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L1.1 AI智能面試系統 - Bombus V6.0</title>
    <!-- Remix Icon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <!-- System CSS -->
    <link rel="stylesheet" href="../assets/css/system.css">
    <!-- Interview CSS -->
    <style>
        .interview-container {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 20px;
            height: calc(100vh - var(--header-height) - 60px);
        }

        /* 候選人列表 */
        .candidate-sidebar {
            background: var(--color-bg-card);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-border);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--color-border);
            background: linear-gradient(135deg, rgba(141, 163, 153, 0.08) 0%, rgba(141, 163, 153, 0.02) 100%);
        }

        .sidebar-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-title i {
            color: var(--color-l1-sage);
            font-size: 22px;
        }

        .sidebar-search {
            position: relative;
            margin-top: 15px;
        }

        .sidebar-search input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            font-size: 14px;
            transition: var(--transition);
        }

        .sidebar-search input:focus {
            outline: none;
            border-color: var(--color-l1-sage);
            box-shadow: 0 0 0 3px rgba(141, 163, 153, 0.1);
        }

        .sidebar-search i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--color-text-secondary);
        }

        .candidate-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .candidate-list::-webkit-scrollbar {
            width: 6px;
        }

        .candidate-list::-webkit-scrollbar-thumb {
            background: var(--color-border);
            border-radius: 3px;
        }

        .candidate-item {
            padding: 15px;
            margin-bottom: 8px;
            border-radius: 10px;
            border: 1px solid var(--color-border);
            cursor: pointer;
            transition: var(--transition);
            background: white;
        }

        .candidate-item:hover {
            border-color: var(--color-l1-sage);
            box-shadow: 0 4px 12px rgba(141, 163, 153, 0.15);
            transform: translateX(5px);
        }

        .candidate-item.active {
            background: linear-gradient(135deg, rgba(141, 163, 153, 0.15) 0%, rgba(141, 163, 153, 0.05) 100%);
            border-color: var(--color-l1-sage);
        }

        .candidate-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .candidate-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--color-l1-sage);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            flex-shrink: 0;
        }

        .candidate-info {
            flex: 1;
        }

        .candidate-name {
            font-weight: 700;
            color: var(--color-text-primary);
            font-size: 15px;
            margin-bottom: 3px;
        }

        .candidate-position {
            font-size: 13px;
            color: var(--color-text-secondary);
        }

        .candidate-meta {
            display: flex;
            gap: 10px;
            font-size: 12px;
            color: var(--color-text-secondary);
        }

        .candidate-status {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .status-pending {
            background: rgba(227, 192, 136, 0.15);
            color: #a88643;
        }

        .status-completed {
            background: rgba(127, 176, 149, 0.15);
            color: var(--color-success);
        }

        /* 主要內容區 */
        .interview-main {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* 播放器區域 */
        .player-section {
            background: var(--color-bg-card);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-border);
            padding: 25px;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--color-text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--color-l1-sage);
            font-size: 22px;
        }

        .player-container {
            background: #1a1a1a;
            border-radius: 12px;
            padding: 30px;
            position: relative;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .player-placeholder {
            text-align: center;
            color: #888;
        }

        .player-placeholder i {
            font-size: 64px;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        .player-placeholder p {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .player-placeholder small {
            font-size: 13px;
            opacity: 0.7;
        }

        .audio-player {
            width: 100%;
            max-width: 600px;
        }

        .audio-player audio {
            width: 100%;
            height: 50px;
            border-radius: 8px;
        }

        .player-info {
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #ccc;
            font-size: 14px;
        }

        .player-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .control-btn {
            padding: 10px 20px;
            background: var(--color-l1-sage);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-btn:hover {
            background: #7a9b8f;
            transform: translateY(-2px);
        }

        .control-btn i {
            font-size: 16px;
        }

        /* 逐字稿與分析區域 */
        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .transcript-panel,
        .emotion-panel {
            background: var(--color-bg-card);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-border);
            padding: 25px;
            display: flex;
            flex-direction: column;
        }

        .transcript-content {
            flex: 1;
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: var(--color-bg-base);
            border-radius: 10px;
            line-height: 1.8;
            font-size: 15px;
            color: var(--color-text-primary);
        }

        .transcript-content::-webkit-scrollbar {
            width: 6px;
        }

        .transcript-content::-webkit-scrollbar-thumb {
            background: var(--color-border);
            border-radius: 3px;
        }

        .transcript-line {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            transition: var(--transition);
        }

        .transcript-line:hover {
            background: white;
        }

        .transcript-time {
            font-size: 12px;
            color: var(--color-text-secondary);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .transcript-text {
            line-height: 1.6;
        }

        .keyword-positive {
            background: rgba(127, 176, 149, 0.2);
            color: #2d5f3e;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .keyword-negative {
            background: rgba(199, 127, 127, 0.2);
            color: #8b3a3a;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .emotion-chart {
            width: 100%;
            height: 350px;
        }

        /* 評分結果區域 */
        .scoring-section {
            background: var(--color-bg-card);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-border);
            padding: 25px;
        }

        .score-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .score-card {
            background: linear-gradient(135deg, rgba(141, 163, 153, 0.08) 0%, rgba(141, 163, 153, 0.02) 100%);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--color-border);
            transition: var(--transition);
        }

        .score-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(141, 163, 153, 0.15);
        }

        .score-label {
            font-size: 13px;
            color: var(--color-text-secondary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .score-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--color-l1-sage);
            margin-bottom: 5px;
        }

        .score-weight {
            font-size: 12px;
            color: var(--color-text-secondary);
        }

        .radar-chart {
            width: 100%;
            height: 400px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            justify-content: flex-end;
        }

        .btn-primary {
            padding: 12px 24px;
            background: var(--color-l1-sage);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary:hover {
            background: #7a9b8f;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(141, 163, 153, 0.3);
        }

        .btn-secondary {
            padding: 12px 24px;
            background: white;
            color: var(--color-text-primary);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-secondary:hover {
            border-color: var(--color-l1-sage);
            color: var(--color-l1-sage);
            transform: translateY(-2px);
        }

        @media (max-width: 1200px) {
            .interview-container {
                grid-template-columns: 1fr;
            }

            .candidate-sidebar {
                height: auto;
                max-height: 300px;
            }

            .analysis-grid {
                grid-template-columns: 1fr;
            }

            .score-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* 設定 Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--color-border);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--color-text-primary);
        }

        .close-btn {
            font-size: 24px;
            color: var(--color-text-secondary);
            cursor: pointer;
            background: none;
            border: none;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: 8px;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            font-size: 14px;
        }

        .keyword-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        /* 分析 Tab */
        .analysis-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--color-border);
        }

        .analysis-tab-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            font-size: 14px;
            font-weight: 600;
            color: var(--color-text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        .analysis-tab-btn.active {
            color: var(--color-l1-sage);
            border-bottom-color: var(--color-l1-sage);
        }

        .notes-area {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
            background: var(--color-bg-base);
        }

        .notes-area:focus {
            outline: none;
            border-color: var(--color-l1-sage);
            background: white;
        }

        .notes-helper {
            margin-top: 10px;
            font-size: 12px;
            color: var(--color-text-secondary);
            display: flex;
            gap: 15px;
        }

        .helper-tag {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .helper-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="system-wrapper">
        <!-- Begin: Sidebar -->
        <aside class="system-aside" id="kt_aside">
            <!-- Brand -->
            <div class="aside-brand">
                <div class="brand-logo">
                    <img src="../assets/images/logo-bombus.svg" alt="Bombus Logo" class="logo">
                    <span class="brand-text">Bombus</span>
                </div>
                <button class="aside-toggle-btn" id="aside_toggle">
                    <i class="ri-arrow-left-s-line"></i>
                </button>
            </div>

            <!-- Menu -->
            <nav class="aside-menu">
                <div class="menu-wrapper">
                    <!-- Dashboard -->
                    <div class="menu-item">
                        <a href="../index.html" class="menu-link">
                            <span class="menu-icon">
                                <i class="ri-dashboard-line"></i>
                            </span>
                            <span class="menu-text">企業管理儀表板</span>
                            <span class="menu-badge">L0.0</span>
                        </a>
                    </div>

                    <!-- L1 員工管理 -->
                    <div class="menu-section">
                        <div class="menu-section-title">
                            <span class="section-text">員工管理模組</span>
                        </div>
                    </div>

                    <div class="menu-item menu-accordion show">
                        <div class="menu-link" data-toggle="collapse">
                            <span class="menu-icon module-l1">
                                <i class="ri-team-line"></i>
                            </span>
                            <span class="menu-text">員工管理</span>
                            <span class="menu-arrow">
                                <i class="ri-arrow-down-s-line"></i>
                            </span>
                        </div>
                        <div class="menu-sub">
                            <div class="menu-item">
                                <a href="./jobs.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">招募職缺管理</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="./recruitment.html" class="menu-link active">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">AI智能面試</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="./profile.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">員工檔案管理</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="./talent-pool.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">人才庫管理</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- L2 職能管理 -->
                    <div class="menu-item menu-accordion">
                        <div class="menu-link" data-toggle="collapse">
                            <span class="menu-icon module-l2">
                                <i class="ri-medal-line"></i>
                            </span>
                            <span class="menu-text">職能管理</span>
                            <span class="menu-arrow">
                                <i class="ri-arrow-down-s-line"></i>
                            </span>
                        </div>
                        <div class="menu-sub">
                            <div class="menu-item">
                                <a href="../competency/framework.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">職能框架開發</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="../competency/assessment.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">職能評估系統</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="../competency/gap-analysis.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">職能落差分析</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- L3 教育訓練 -->
                    <div class="menu-item menu-accordion">
                        <div class="menu-link" data-toggle="collapse">
                            <span class="menu-icon module-l3">
                                <i class="ri-book-open-line"></i>
                            </span>
                            <span class="menu-text">教育訓練</span>
                            <span class="menu-arrow">
                                <i class="ri-arrow-down-s-line"></i>
                            </span>
                        </div>
                        <div class="menu-sub">
                            <div class="menu-item">
                                <a href="../training/talent-map.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">人才地圖總覽</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- L4 專案管理 -->
                    <div class="menu-item menu-accordion">
                        <div class="menu-link" data-toggle="collapse">
                            <span class="menu-icon module-l4">
                                <i class="ri-folder-chart-line"></i>
                            </span>
                            <span class="menu-text">專案管理</span>
                            <span class="menu-arrow">
                                <i class="ri-arrow-down-s-line"></i>
                            </span>
                        </div>
                        <div class="menu-sub">
                            <div class="menu-item">
                                <a href="../project/list.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">專案列表</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="../project/profit-prediction.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">AI損益預測</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- L5 績效管理 -->
                    <div class="menu-item menu-accordion">
                        <div class="menu-link" data-toggle="collapse">
                            <span class="menu-icon module-l5">
                                <i class="ri-line-chart-line"></i>
                            </span>
                            <span class="menu-text">績效管理</span>
                            <span class="menu-arrow">
                                <i class="ri-arrow-down-s-line"></i>
                            </span>
                        </div>
                        <div class="menu-sub">
                            <div class="menu-item">
                                <a href="../performance/review.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">績效考核</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="../performance/360-feedback.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">360度回饋</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- L6 文化管理 -->
                    <div class="menu-item menu-accordion">
                        <div class="menu-link" data-toggle="collapse">
                            <span class="menu-icon module-l6">
                                <i class="ri-heart-line"></i>
                            </span>
                            <span class="menu-text">文化管理</span>
                            <span class="menu-arrow">
                                <i class="ri-arrow-down-s-line"></i>
                            </span>
                        </div>
                        <div class="menu-sub">
                            <div class="menu-item">
                                <a href="../culture/handbook.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">企業文化手冊</span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a href="../culture/eap.html" class="menu-link">
                                    <span class="menu-bullet"></span>
                                    <span class="menu-text">EAP員工協助</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- System Settings -->
                    <div class="menu-section">
                        <div class="menu-section-title">
                            <span class="section-text">系統設定</span>
                        </div>
                    </div>

                    <div class="menu-item">
                        <a href="../settings/permissions.html" class="menu-link">
                            <span class="menu-icon">
                                <i class="ri-shield-user-line"></i>
                            </span>
                            <span class="menu-text">權限管理</span>
                        </a>
                    </div>

                    <div class="menu-item">
                        <a href="../settings/backup.html" class="menu-link">
                            <span class="menu-icon">
                                <i class="ri-database-2-line"></i>
                            </span>
                            <span class="menu-text">備份管理</span>
                        </a>
                    </div>
                </div>
            </nav>

            <!-- Footer -->
            <div class="aside-footer">
                <div class="user-info">
                    <div class="user-avatar">
                        <img src="../assets/images/avatar.jpg" alt="User" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2240%22 height=%2240%22%3E%3Ccircle cx=%2220%22 cy=%2220%22 r=%2220%22 fill=%22%2364748B%22/%3E%3Ctext x=%2220%22 y=%2225%22 text-anchor=%22middle%22 fill=%22white%22 font-size=%2216%22 font-weight=%22bold%22%3EA%3C/text%3E%3C/svg%3E'">
                    </div>
                    <div class="user-details">
                        <div class="user-name">Admin</div>
                        <div class="user-role">系統管理員</div>
                    </div>
                </div>
            </div>
        </aside>
        <!-- End: Sidebar -->

        <!-- Begin: Page Wrapper -->
        <div class="page-wrapper">
            <!-- Begin: Header -->
            <header class="system-header" id="kt_header">
                <div class="header-container">
                    <!-- Mobile Toggle -->
                    <button class="mobile-toggle" id="mobile_toggle">
                        <i class="ri-menu-line"></i>
                    </button>

                    <!-- Page Title -->
                    <div class="page-title">
                        <h1 class="title-text">AI智能面試評核系統</h1>
                        <div class="breadcrumb">
                            <span class="breadcrumb-item">員工管理</span>
                            <i class="ri-arrow-right-s-line"></i>
                            <span class="breadcrumb-item active">AI智能面試</span>
                        </div>
                    </div>

                    <!-- Header Actions -->
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="location.href='job-candidates.html?job=frontend'" style="margin-right: 10px;">
                            <i class="ri-arrow-left-line"></i> 返回列表
                        </button>
                        <button class="action-btn" id="settings_btn" onclick="openSettings()" title="評核設定">
                            <i class="ri-settings-3-line"></i>
                        </button>
                        <button class="action-btn" id="search_btn">
                            <i class="ri-search-line"></i>
                        </button>
                        <div class="action-dropdown">
                            <button class="action-btn" id="notification_btn">
                                <i class="ri-notification-3-line"></i>
                                <span class="badge">5</span>
                            </button>
                        </div>
                        <div class="action-dropdown">
                            <button class="action-btn user-menu-btn" id="user_menu_btn">
                                <img src="../assets/images/avatar.jpg" alt="User" class="user-avatar-small" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2232%22 height=%2232%22%3E%3Ccircle cx=%2216%22 cy=%2216%22 r=%2216%22 fill=%22%2364748B%22/%3E%3Ctext x=%2216%22 y=%2221%22 text-anchor=%22middle%22 fill=%22white%22 font-size=%2214%22 font-weight=%22bold%22%3EA%3C/text%3E%3C/svg%3E'">
                            </button>
                        </div>
                    </div>
                </div>
            </header>
            <!-- End: Header -->

            <!-- Begin: Main Content -->
            <main class="main-content" id="kt_content">
                <div class="content-container">
                    <div class="interview-container">
                        <!-- 候選人列表側邊欄 -->
                        <div class="candidate-sidebar">
                            <div class="sidebar-header">
                                <div class="sidebar-title">
                                    <i class="ri-user-search-line"></i>
                                    候選人列表
                                </div>
                                <div class="sidebar-search">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜尋候選人..." id="candidateSearch">
                                </div>
                            </div>
                            <div class="candidate-list" id="candidateList">
                                <!-- 候選人項目將由 JS 動態生成 -->
                            </div>
                        </div>

                        <!-- 主要內容區 -->
                        <div class="interview-main">
                            <!-- 播放器區域 -->
                            <div class="player-section">
                                <div class="section-header">
                                    <div class="section-title">
                                        <i class="ri-play-circle-line"></i>
                                        面試播放器
                                    </div>
                                </div>
                                <div class="player-container" id="playerContainer">
                                    <div class="player-placeholder">
                                        <i class="ri-headphone-line"></i>
                                        <p>請從左側選擇候選人以開始播放面試錄音</p>
                                        <small>支援 MP3、WAV、M4A 格式</small>
                                    </div>
                                </div>
                            </div>

                            <!-- 逐字稿與情緒分析 -->
                            <div class="analysis-grid">
                                <!-- 逐字稿與筆記面板 -->
                                <div class="transcript-panel">
                                    <div class="section-header" style="margin-bottom: 0; border-bottom: none;">
                                        <div class="analysis-tabs">
                                            <button class="analysis-tab-btn active" onclick="switchTab('transcript')">即時逐字稿</button>
                                            <button class="analysis-tab-btn" onclick="switchTab('notes')">面試官筆記</button>
                                        </div>
                                    </div>
                                    
                                    <!-- 逐字稿內容 -->
                                    <div id="transcript-view" class="transcript-content">
                                        <p style="text-align: center; color: var(--color-text-secondary); padding: 40px 20px;">
                                            <i class="ri-chat-3-line" style="font-size: 48px; display: block; margin-bottom: 15px; opacity: 0.3;"></i>
                                            尚無逐字稿內容<br>
                                            <small>播放面試錄音後將自動顯示</small>
                                        </p>
                                    </div>

                                    <!-- 筆記內容 -->
                                    <div id="notes-view" style="display: none; padding: 20px;">
                                        <textarea class="notes-area" id="interviewerNotes" placeholder="請在此輸入面試筆記...&#10;系統將自動偵測關鍵字並標記（例如：團隊合作、溝通、壓力）"></textarea>
                                        <div class="notes-helper">
                                            <div class="helper-tag">
                                                <div class="helper-dot" style="background: #7FB095;"></div>
                                                正向關鍵字
                                            </div>
                                            <div class="helper-tag">
                                                <div class="helper-dot" style="background: #C77F7F;"></div>
                                                負向關鍵字
                                            </div>
                                            <div class="helper-tag" id="typing-status" style="margin-left: auto; color: var(--color-l1-sage); display: none;">
                                                <i class="ri-magic-line"></i> AI 分析中...
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 情緒時間軸 -->
                                <div class="emotion-panel">
                                    <div class="section-header">
                                        <div class="section-title">
                                            <i class="ri-emotion-line"></i>
                                            情緒時間軸
                                        </div>
                                    </div>
                                    <div class="emotion-chart" id="emotionChart"></div>
                                </div>
                            </div>

                            <!-- AI 評分結果 -->
                            <div class="scoring-section">
                                <div class="section-header">
                                    <div class="section-title">
                                        <i class="ri-bar-chart-box-line"></i>
                                        AI 綜合評分
                                    </div>
                                </div>

                                <div class="score-grid">
                                    <div class="score-card">
                                        <div class="score-label">關鍵字匹配</div>
                                        <div class="score-value" id="scoreKeyword">--</div>
                                        <div class="score-weight">權重 40%</div>
                                    </div>
                                    <div class="score-card">
                                        <div class="score-label">語意分析</div>
                                        <div class="score-value" id="scoreSemantic">--</div>
                                        <div class="score-weight">權重 30%</div>
                                    </div>
                                    <div class="score-card">
                                        <div class="score-label">JD 適配度</div>
                                        <div class="score-value" id="scoreMatch">--</div>
                                        <div class="score-weight">權重 30%</div>
                                    </div>
                                    <div class="score-card" style="background: linear-gradient(135deg, rgba(141, 163, 153, 0.15) 0%, rgba(141, 163, 153, 0.05) 100%);">
                                        <div class="score-label">綜合評分</div>
                                        <div class="score-value" id="scoreFinal" style="font-size: 42px;">--</div>
                                        <div class="score-weight">總分 100</div>
                                    </div>
                                </div>

                                <div class="radar-chart" id="radarChart"></div>

                                <div class="action-buttons">
                                    <button class="btn-secondary" onclick="exportReport()">
                                        <i class="ri-file-download-line"></i>
                                        匯出報告
                                    </button>
                                    <button class="btn-primary" onclick="hireRecommendation()">
                                        <i class="ri-check-line"></i>
                                        錄用建議
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            <!-- End: Main Content -->

            <!-- Begin: Footer -->
            <footer class="system-footer">
                <div class="footer-content">
                    <div class="footer-left">
                        <span>© 2025 Bombus 企業管理系統</span>
                    </div>
                    <div class="footer-right">
                        <a href="#">關於</a>
                        <a href="#">支援</a>
                        <a href="#">文件</a>
                    </div>
                </div>
            </footer>
            <!-- End: Footer -->
        </div>
        <!-- End: Page Wrapper -->
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">面試評核設定</h3>
                <button class="close-btn" onclick="closeSettings()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">關鍵字設定</label>
                    <div class="keyword-input-group">
                        <input type="text" class="form-input" placeholder="輸入關鍵字 (如：團隊合作)" id="newKeyword">
                        <select class="form-select" style="width: 120px;" id="keywordType">
                            <option value="positive">正向 (+)</option>
                            <option value="negative">負向 (-)</option>
                        </select>
                        <button class="btn-primary" onclick="addKeyword()" style="padding: 8px 15px;">新增</button>
                    </div>
                    <div id="keywordList" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; padding: 10px; background: var(--color-bg-base); border-radius: 8px; min-height: 60px;">
                        <span class="keyword-positive">團隊合作 <i class="ri-close-line" style="cursor: pointer; margin-left: 4px;"></i></span>
                        <span class="keyword-positive">溝通能力 <i class="ri-close-line" style="cursor: pointer; margin-left: 4px;"></i></span>
                        <span class="keyword-negative">抗壓性低 <i class="ri-close-line" style="cursor: pointer; margin-left: 4px;"></i></span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">評分權重配置</label>
                    <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 10px;">
                        <span style="width: 100px;">關鍵字分數</span>
                        <input type="range" min="0" max="100" value="40" style="flex: 1;" oninput="updateWeight(this, 'weight-kw')">
                        <span id="weight-kw" style="width: 40px; text-align: right;">40%</span>
                    </div>
                    <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 10px;">
                        <span style="width: 100px;">語意分析</span>
                        <input type="range" min="0" max="100" value="30" style="flex: 1;" oninput="updateWeight(this, 'weight-se')">
                        <span id="weight-se" style="width: 40px; text-align: right;">30%</span>
                    </div>
                    <div style="display: flex; gap: 15px; align-items: center;">
                        <span style="width: 100px;">JD 適配度</span>
                        <input type="range" min="0" max="100" value="30" style="flex: 1;" oninput="updateWeight(this, 'weight-jd')">
                        <span id="weight-jd" style="width: 40px; text-align: right;">30%</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="margin-top: 20px; text-align: right;">
                <button class="btn-secondary" onclick="closeSettings()">取消</button>
                <button class="btn-primary" onclick="saveSettings()">儲存設定</button>
            </div>
        </div>
    </div>

    <!-- Interview JS -->
    <script src="../assets/js/interview.js"></script>
    
    <!-- System JS -->
    <script src="../assets/js/system.js"></script>
</body>
</html>

