import{a as H,b as A}from"./chunk-TKFFVAKG.js";import{$ as d,B as m,F as w,G as a,L as M,La as F,N as g,O as v,R as u,U as f,W as P,X as O,Y as y,Ya as U,Z as e,_ as n,aa as k,ba as l,ca as h,da as S,ea as E,ia as c,ja as _,n as p,o as b,sa as z,t as x,u as C}from"./chunk-Y7UTIMVI.js";var D=["*"];function I(s,i){s&1&&d(0,"i",7)}function j(s,i){if(s&1&&(e(0,"span",23),c(1),n(),g(2,I,1,0,"i",7)),s&2){let r=i.$implicit,t=i.$index,o=i.$count;u("active",t===o-1),a(),_(r),a(),f(t!==o-1?2:-1)}}function L(s,i){if(s&1){let r=k();e(0,"div",22)(1,"div",24)(2,"div",25),c(3),n(),e(4,"div",26)(5,"span",27),c(6),n(),e(7,"span",28),c(8),n()()(),d(9,"div",29),e(10,"div",30)(11,"button",31),d(12,"i",32),e(13,"span"),c(14,"\u500B\u4EBA\u8CC7\u6599"),n()(),e(15,"button",31),d(16,"i",33),e(17,"span"),c(18,"\u5E33\u865F\u8A2D\u5B9A"),n()()(),d(19,"div",29),e(20,"div",30)(21,"button",34),l("click",function(){x(r);let o=h();return C(o.onLogout())}),d(22,"i",35),e(23,"span"),c(24,"\u767B\u51FA\u7CFB\u7D71"),n()()()()}if(s&2){let r,t,o=h();a(3),_(o.getUserInitial()),a(3),_(((r=o.currentUser())==null?null:r.name)||"\u4F7F\u7528\u8005"),a(2),_(((t=o.currentUser())==null?null:t.email)||"")}}var T=class s{sidebarService=p(H);notificationService=p(A);authService=p(U);pageTitle=m("\u5100\u8868\u677F");breadcrumbs=m(["\u9996\u9801"]);showUserMenu=M(!1);currentUser=this.authService.currentUser;onDocumentClick(i){i.target.closest(".header__user-menu-wrapper")||this.showUserMenu.set(!1)}toggleMobileSidebar(){this.sidebarService.toggleMobile()}onSearch(){this.notificationService.info("\u641C\u5C0B\u529F\u80FD\u958B\u767C\u4E2D")}onNotification(){this.notificationService.info("\u60A8\u6709 5 \u689D\u65B0\u901A\u77E5")}onQuickAction(){this.notificationService.info("\u5FEB\u901F\u64CD\u4F5C\u9078\u55AE")}toggleUserMenu(){this.showUserMenu.update(i=>!i)}onLogout(){this.showUserMenu.set(!1),this.authService.logout(),this.notificationService.success("\u5DF2\u6210\u529F\u767B\u51FA")}getUserInitial(){let i=this.currentUser();return i?.name?i.name.charAt(0).toUpperCase():"U"}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=b({type:s,selectors:[["app-header"]],hostBindings:function(r,t){r&1&&l("click",function(B){return t.onDocumentClick(B)},!1,w)},inputs:{pageTitle:[1,"pageTitle"],breadcrumbs:[1,"breadcrumbs"]},standalone:!0,features:[z],ngContentSelectors:D,decls:30,vars:7,consts:[[1,"header"],[1,"header__container"],["type","button","aria-label","Toggle sidebar",1,"header__mobile-toggle",3,"click"],[1,"ri-menu-line"],[1,"header__title-section"],[1,"header__title"],["aria-label","Breadcrumb",1,"header__breadcrumb"],[1,"ri-arrow-right-s-line","breadcrumb-separator"],[1,"breadcrumb-item","active"],[1,"header__page-actions"],[1,"header__actions"],["type","button","aria-label","Search",1,"header__action-btn",3,"click"],[1,"ri-search-line"],["type","button","aria-label","Notifications",1,"header__action-btn","header__action-btn--notification",3,"click"],[1,"ri-notification-3-line"],[1,"notification-badge"],["type","button","aria-label","Quick actions",1,"header__action-btn",3,"click"],[1,"ri-add-circle-line"],[1,"header__user-menu-wrapper"],["type","button","aria-label","User menu",1,"header__action-btn","header__action-btn--user",3,"click"],[1,"user-avatar"],[1,"ri-arrow-down-s-line","user-arrow"],[1,"user-dropdown"],[1,"breadcrumb-item"],[1,"user-dropdown__header"],[1,"user-dropdown__avatar"],[1,"user-dropdown__info"],[1,"user-dropdown__name"],[1,"user-dropdown__email"],[1,"user-dropdown__divider"],[1,"user-dropdown__menu"],["type","button",1,"user-dropdown__item"],[1,"ri-user-line"],[1,"ri-settings-3-line"],["type","button",1,"user-dropdown__item","user-dropdown__item--danger",3,"click"],[1,"ri-logout-box-r-line"]],template:function(r,t){r&1&&(S(),e(0,"header",0)(1,"div",1)(2,"button",2),l("click",function(){return t.toggleMobileSidebar()}),d(3,"i",3),n(),e(4,"div",4)(5,"h1",5),c(6),n(),e(7,"nav",6),O(8,j,3,4,null,null,P),d(10,"i",7),e(11,"span",8),c(12),n()()(),e(13,"div",9),E(14),n(),e(15,"div",10)(16,"button",11),l("click",function(){return t.onSearch()}),d(17,"i",12),n(),e(18,"button",13),l("click",function(){return t.onNotification()}),d(19,"i",14),e(20,"span",15),c(21,"5"),n()(),e(22,"button",16),l("click",function(){return t.onQuickAction()}),d(23,"i",17),n(),e(24,"div",18)(25,"button",19),l("click",function(){return t.toggleUserMenu()}),e(26,"span",20),c(27),n(),d(28,"i",21),n(),g(29,L,25,3,"div",22),n()()()()),r&2&&(a(6),_(t.pageTitle()),a(2),y(t.breadcrumbs()),a(4),_(t.pageTitle()),a(13),v("aria-expanded",t.showUserMenu()),a(2),_(t.getUserInitial()),a(),u("rotated",t.showUserMenu()),a(),f(t.showUserMenu()?29:-1))},dependencies:[F],styles:["[_ngcontent-%COMP%]:root{--color-cloud-gray: #F5F5F7;--color-pure-white: #FCFCFD;--color-soft-gray: #E8E8EA;--color-text-primary: #464E56;--color-text-secondary: #6B7280;--color-text-dark: #1F2937;--color-brand-main: #64748B;--color-brand-light: #94A3B8;--color-brand-dark: #475569;--color-l1-sage: #8DA399;--color-l2-terracotta: #D6A28C;--color-l3-petrol: #7F9CA0;--color-l4-mauve: #9A8C98;--color-l5-brick: #B87D7B;--color-l6-rose: #C4A4A1;--color-success: #7FB095;--color-warning: #E3C088;--color-error: #C77F7F;--color-info: #8DA8BE;--sidebar-width: 280px;--sidebar-width-minimized: 80px;--header-height: 70px;--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--shadow-soft: 0 4px 20px rgba(0, 0, 0, .05);--shadow-md: 0 4px 12px rgba(0, 0, 0, .06);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .08);--transition-normal: .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.header[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:280px;height:70px;background:#fcfcfd;box-shadow:0 1px 2px #0000000a;z-index:100;transition:left .3s ease}@media (max-width: 991px){.header[_ngcontent-%COMP%]{left:0}}.sidebar-minimized[_nghost-%COMP%]   .header[_ngcontent-%COMP%], .sidebar-minimized   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{left:80px}@media (max-width: 991px){.sidebar-minimized[_nghost-%COMP%]   .header[_ngcontent-%COMP%], .sidebar-minimized   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{left:0}}.header__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:100%;padding:0 1.5rem;gap:1rem}@media (max-width: 767px){.header__container[_ngcontent-%COMP%]{padding:0 1rem}}.header__mobile-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;border-radius:8px;background:transparent;color:#6b7280;cursor:pointer;transition:all .3s ease;display:none}.header__mobile-toggle[_ngcontent-%COMP%]:hover{background:#e8e8ea;color:#464e56}@media (max-width: 991px){.header__mobile-toggle[_ngcontent-%COMP%]{display:flex}}.header__mobile-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.header__title-section[_ngcontent-%COMP%]{flex:1;min-width:0}.header__title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 .25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 767px){.header__title[_ngcontent-%COMP%]{font-size:1.125rem}}.header__breadcrumb[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:.25rem;flex-wrap:wrap}@media (max-width: 767px){.header__breadcrumb[_ngcontent-%COMP%]{display:none}}.breadcrumb-item[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#64748b}.breadcrumb-separator[_ngcontent-%COMP%]{font-size:14px;color:#c4c4c6}.header__page-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:1rem}.header__page-actions[_ngcontent-%COMP%]     .header-actions{display:flex;gap:1rem;align-items:center}.header__page-actions[_ngcontent-%COMP%]     .btn-primary{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.5rem;background:#7f9ca0;color:#fcfcfd;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .15s ease;white-space:nowrap}.header__page-actions[_ngcontent-%COMP%]     .btn-primary:hover{background:#69898d}.header__page-actions[_ngcontent-%COMP%]     .btn-primary i{font-size:1rem}.header__page-actions[_ngcontent-%COMP%]     .btn-secondary{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.5rem;background:#fcfcfd;color:#464e56;border:1px solid #E8E8EA;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .15s ease;white-space:nowrap}.header__page-actions[_ngcontent-%COMP%]     .btn-secondary:hover{background:#f5f5f7;border-color:#7f9ca0;color:#7f9ca0}.header__page-actions[_ngcontent-%COMP%]     .btn-secondary i{font-size:1rem}.header__actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:.5rem}.header__action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;border-radius:8px;background:transparent;color:#6b7280;cursor:pointer;transition:all .3s ease;position:relative}.header__action-btn[_ngcontent-%COMP%]:hover{background:#e8e8ea;color:#464e56}.header__action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.header__action-btn--notification[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;min-width:18px;height:18px;padding:0 4px;background:#c77f7f;color:#fff;font-size:10px;font-weight:700;border-radius:9999px;display:flex;align-items:center;justify-content:center}.header__action-btn--user[_ngcontent-%COMP%]{width:auto;height:auto;padding:4px}.header__action-btn--user[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#64748b;color:#fff;font-size:.875rem;font-weight:700;border-radius:8px}@media (max-width: 767px){.header__action-btn[_ngcontent-%COMP%]:not(.header__action-btn--notification):not(.header__action-btn--user){display:none}}.header__user-menu-wrapper[_ngcontent-%COMP%]{position:relative}.header__action-btn--user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.header__action-btn--user[_ngcontent-%COMP%]   .user-arrow[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;transition:transform .3s ease}.header__action-btn--user[_ngcontent-%COMP%]   .user-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;width:280px;background:#fcfcfd;border-radius:12px;box-shadow:0 8px 24px #00000014;overflow:hidden;animation:_ngcontent-%COMP%_dropdownFadeIn .2s ease;z-index:200}@keyframes _ngcontent-%COMP%_dropdownFadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.user-dropdown__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:linear-gradient(135deg,#64748b0d,#94a3b80d)}.user-dropdown__avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:linear-gradient(135deg,#64748b,#475569);color:#fff;font-size:1.125rem;font-weight:700;border-radius:8px;flex-shrink:0}.user-dropdown__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.user-dropdown__name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-dropdown__email[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-dropdown__divider[_ngcontent-%COMP%]{height:1px;background:#e8e8ea}.user-dropdown__menu[_ngcontent-%COMP%]{padding:.5rem}.user-dropdown__item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;width:100%;padding:.5rem 1rem;background:transparent;border:none;border-radius:8px;font-size:.875rem;color:#464e56;cursor:pointer;transition:all .15s ease;text-align:left}.user-dropdown__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;color:#6b7280;transition:color .15s ease}.user-dropdown__item[_ngcontent-%COMP%]:hover{background:#f5f5f7}.user-dropdown__item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#64748b}.user-dropdown__item--danger[_ngcontent-%COMP%], .user-dropdown__item--danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c77f7f}.user-dropdown__item--danger[_ngcontent-%COMP%]:hover{background:#c77f7f14}.user-dropdown__item--danger[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#b75c5c}"],changeDetection:0})};export{T as a};
